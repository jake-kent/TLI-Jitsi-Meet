!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var o=n();for(var t in o)("object"==typeof exports?exports:e)[t]=o[t]}}(this,function(){return function(e){function n(t){if(o[t])return o[t].exports;var r=o[t]={exports:{},id:t,loaded:!1};return e[t].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var o={};return n.m=e,n.c=o,n.p="/libs/",n(0)}([function(e,n,o){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function r(){window.APP&&"ready"===window.APP.connect.status&&window.APP.connect.handler()}function i(e){e&&console.warn(e),window.XMPPAttachInfo={status:"error"},r()}var a=o(1),c=t(a),l=o(2),s=t(l);if("function"==typeof createConnectionExternally){var u=(0,s.default)(window.location,!0,"hash")["config.externalConnectUrl"]||config.externalConnectUrl,f=void 0;if(u&&(f=(0,c.default)())){u+="?room="+f;var d=(0,s.default)(window.location,!0,"search").jwt;d&&(u+="&token="+d),createConnectionExternally(u,function(e){window.XMPPAttachInfo={status:"success",data:e},r()},i)}else i()}else i()},function(e,n){"use strict";function o(){var e=config.getroomnode,n=window.location.pathname,o=void 0;return o=e&&"function"==typeof e?e.call(config,n):n.substring(n.lastIndexOf("/")+1).toLowerCase()||void 0}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},function(e,n){"use strict";function o(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hash",t="search"===o?e.search:e.hash,r={};return t&&t.substr(1).split("&").forEach(function(e){var o=e.split("="),t=o[0];if(t){var i=void 0;try{i=o[1],n||(i=JSON.parse(decodeURIComponent(i).replace(/\\&/,"&")))}catch(e){var a="Failed to parse URL parameter value: "+String(i);return console.warn(a,e),void(window.onerror&&window.onerror(a,null,null,null,e))}r[t]=i}}),r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=o}])});
//# sourceMappingURL=do_external_connect.min.map